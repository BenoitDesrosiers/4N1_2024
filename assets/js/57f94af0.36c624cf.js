"use strict";(self.webpackChunknotes_de_cours_4_n_1_2024=self.webpackChunknotes_de_cours_4_n_1_2024||[]).push([[8609],{3841:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var s=t(5893),i=t(1151);const r={sidebar_position:35},o="Introduction",a={id:"Injection de d\xe9pendance/injection_introduction",title:"Introduction",description:"https://learn.microsoft.com/fr-fr/dotnet/architecture/modern-web-apps-azure/architectural-principles#dependency-inversion",source:"@site/docs/60-Injection de d\xe9pendance/injection_introduction.md",sourceDirName:"60-Injection de d\xe9pendance",slug:"/Injection de d\xe9pendance/injection_introduction",permalink:"/4N1_2024/docs/Injection de d\xe9pendance/injection_introduction",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:35,frontMatter:{sidebar_position:35},sidebar:"NotesSidebar",previous:{title:"Pr\xe9paration du projet",permalink:"/4N1_2024/docs/Injection de d\xe9pendance/preparation_projet"},next:{title:"Utilisation",permalink:"/4N1_2024/docs/Injection de d\xe9pendance/injection_dependance"}},d={},c=[{value:"D\xe9finition",id:"d\xe9finition",level:2},{value:"Pourquoi opter pour l\u2019injection de d\xe9pendances ?",id:"pourquoi-opter-pour-linjection-de-d\xe9pendances-",level:2},{value:"Les abstractions",id:"les-abstractions",level:3},{value:"Les tests unitaires",id:"les-tests-unitaires",level:3}];function l(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",p:"p",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/fr-fr/dotnet/architecture/modern-web-apps-azure/architectural-principles#dependency-inversion",children:"https://learn.microsoft.com/fr-fr/dotnet/architecture/modern-web-apps-azure/architectural-principles#dependency-inversion"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/fr-fr/dotnet/core/extensions/dependency-injection",children:"https://learn.microsoft.com/fr-fr/dotnet/core/extensions/dependency-injection"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://youtu.be/Hhpq7oYcpGE?si=uyluJ3V_JQtpRzX8",children:"https://youtu.be/Hhpq7oYcpGE?si=uyluJ3V_JQtpRzX8"})}),"\n",(0,s.jsx)(n.h2,{id:"d\xe9finition",children:"D\xe9finition"}),"\n",(0,s.jsxs)(n.p,{children:["L\u2019injection de d\xe9pendances consiste, pour une classe, \xe0 d\xe9l\xe9guer la cr\xe9ation de ses d\xe9pendances au code appelant qui va ensuite les injecter dans la classe correspondante. De ce fait, la cr\xe9ation d\u2019une instance de la d\xe9pendance est effectu\xe9e \xe0 l\u2019ext\xe9rieur de la classe d\xe9pendante et inject\xe9e dans la classe (le plus souvent dans le constructeur mais il existe d\u2019autres possibilit\xe9s). ",(0,s.jsx)(n.a,{href:"https://www.softfluent.fr/blog/injection-de-dependances-a-quoi-ca-sert/#:~:text=L'injection%20de%20d%C3%A9pendances%20consiste,injecter%20dans%20la%20classe%20correspondante.",children:"source"})]}),"\n",(0,s.jsx)(n.h2,{id:"pourquoi-opter-pour-linjection-de-d\xe9pendances-",children:"Pourquoi opter pour l\u2019injection de d\xe9pendances ?"}),"\n",(0,s.jsx)(n.p,{children:"Il y a deux raisons principales : l\u2019utilisation d\u2019abstractions et les tests unitaires."}),"\n",(0,s.jsx)(n.h3,{id:"les-abstractions",children:"Les abstractions"}),"\n",(0,s.jsx)(n.p,{children:"L\u2019abstraction est un des principes fondamentaux de la programmation orient\xe9e objet. En suivant ce processus d\u2019abstraction, le d\xe9veloppeur masque toutes les informations non pertinentes d\u2019un objet \xe0 des fins de simplification et d\u2019efficacit\xe9."}),"\n",(0,s.jsx)(n.p,{children:"Les abstractions sont g\xe9n\xe9ralement impl\xe9ment\xe9es en tant que classes ou interfaces abstraites et permettent d\u2019introduire la notion de contrat, dans la syntaxe C# ce sont les interfaces. Ce sont elles qui vont permettre la mise en \u0153uvre du principe d\u2019inversion de d\xe9pendances."}),"\n",(0,s.jsx)(n.p,{children:"Lorsque les modules de bas niveau impl\xe9mentent des interfaces et que ce sont ces interfaces qui sont inject\xe9es dans les modules de haut niveau, on ne d\xe9pend plus des impl\xe9mentations (des \xab d\xe9tails \xbb) et on peut d\xe8s lors \xab remplacer \xbb une impl\xe9mentation par une autre tant que la nouvelle impl\xe9mentation respecte l\u2019abstraction (c\u2019est-\xe0-dire qu\u2019elle impl\xe9mente l\u2019interface)."}),"\n",(0,s.jsx)(n.p,{children:"On voit que gr\xe2ce aux abstractions nous avons introduit un d\xe9couplage des modules (on peut aussi parler de \xab couplage faible \xbb) et que gr\xe2ce \xe0 cela la modification ou le remplacement d\u2019un module de bas niveau n\u2019a pas d\u2019impact sur les modules qui en d\xe9pendent (du moins tant que l\u2019abstraction, le contrat, ne change pas)."}),"\n",(0,s.jsx)(n.h3,{id:"les-tests-unitaires",children:"Les tests unitaires"}),"\n",(0,s.jsx)(n.p,{children:"Le deuxi\xe8me b\xe9n\xe9fice principal de l\u2019injection de d\xe9pendances r\xe9side dans la facilit\xe9 de r\xe9diger des tests unitaires."}),"\n",(0,s.jsx)(n.p,{children:"Les tests unitaires sont men\xe9s par le d\xe9veloppeur lui-m\xeame, et consistent \xe0 v\xe9rifier la bonne ex\xe9cution des fonctions dont il a la charge. Ces fonctions sont test\xe9es de mani\xe8re ind\xe9pendante, souvent avec des donn\xe9es r\xe9duites. Il est souhaitable de d\xe9finir tr\xe8s t\xf4t des jeux de tests repr\xe9sentatifs, car le d\xe9veloppeur pourra r\xe9aliser les tests unitaires sur cette base et la qualit\xe9 en sera am\xe9lior\xe9e."}),"\n",(0,s.jsx)(n.p,{children:"L\u2019objectif d\u2019un test unitaire est donc de tester une \xab unit\xe9 de code \xbb dans une situation donn\xe9e. Un test unitaire n\u2019a surtout pas pour vocation de tester toute une chaine d\u2019impl\xe9mentations et notamment les diff\xe9rentes impl\xe9mentations des d\xe9pendances de la classe test\xe9e."}),"\n",(0,s.jsx)(n.p,{children:"En l\u2019absence d\u2019un m\xe9canisme d\u2019injection de d\xe9pendances, une des principales difficult\xe9s pour \xe9crire des tests unitaires corrects va \xeatre de s\u2019affranchir des d\xe9pendances de la classe puisqu\u2019elle les instancie elle-m\xeame."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://www.softfluent.fr/blog/injection-de-dependances-a-quoi-ca-sert/#:~:text=L'injection%20de%20d%C3%A9pendances%20consiste,injecter%20dans%20la%20classe%20correspondante.",children:"source"})})]})}function u(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>o});var s=t(7294);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);