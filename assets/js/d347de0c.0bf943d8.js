"use strict";(self.webpackChunknotes_de_cours_4_n_1_2024=self.webpackChunknotes_de_cours_4_n_1_2024||[]).push([[6164],{4806:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var i=n(5893),s=n(1151);const t={sidebar_position:250,draft:!1},l="Localisation de .xaml",o={id:"WPF partie 2/localisation",title:"Localisation de .xaml",description:"Pour rendre l'application multilingue, il faut utiliser des fichiers ressources. Les fichiers ressources sont en fonction de la localisation.",source:"@site/docs/72-WPF partie 2/localisation.md",sourceDirName:"72-WPF partie 2",slug:"/WPF partie 2/localisation",permalink:"/4N1_2024/docs/WPF partie 2/localisation",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:250,frontMatter:{sidebar_position:250,draft:!1},sidebar:"NotesSidebar",previous:{title:"Supprimer une cat\xe9gorie",permalink:"/4N1_2024/docs/WPF partie 2/supprimer_categorie"},next:{title:"Liste des cartes",permalink:"/4N1_2024/docs/WPF partie 2/lister_carte"}},a={},c=[{value:"Installation de la librairie",id:"installation-de-la-librairie",level:2},{value:"Cr\xe9ation du fichier ressource - ResListeCategories",id:"cr\xe9ation-du-fichier-ressource---reslistecategories",level:2},{value:"Cr\xe9ation du fichier ressource - ResGlobalListeBouton",id:"cr\xe9ation-du-fichier-ressource---resgloballistebouton",level:2},{value:"Utilisation dans la vue - UcListeCategories.xaml",id:"utilisation-dans-la-vue---uclistecategoriesxaml",level:2},{value:"Test",id:"test",level:2}];function d(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h1,{id:"localisation-de-xaml",children:"Localisation de .xaml"}),"\n",(0,i.jsx)(r.p,{children:"Pour rendre l'application multilingue, il faut utiliser des fichiers ressources. Les fichiers ressources sont en fonction de la localisation."}),"\n",(0,i.jsx)(r.p,{children:"Le terme localisation est utilis\xe9, car il peut avoir une version pour le fran\xe7ais de France et le fran\xe7ais du Qu\xe9bec."}),"\n",(0,i.jsxs)(r.p,{children:["Pour faciliter la localisation des vues, il existe la librairie ",(0,i.jsx)(r.strong,{children:"WPFLocalizeExtention"}),"."]}),"\n",(0,i.jsx)(r.h2,{id:"installation-de-la-librairie",children:"Installation de la librairie"}),"\n",(0,i.jsxs)(r.p,{children:["Dans la ",(0,i.jsx)(r.strong,{children:"Console du Gestionnaire de package"}),", inscrivez la commande ci-dessous. Il est important que le ",(0,i.jsx)(r.strong,{children:"Projet par d\xe9faut"}),"    ",(0,i.jsx)(r.strong,{children:"SuperCarte.WPF"})," soit s\xe9lectionn\xe9 dans la console. Pour ce projet, ce doit \xeatre ",(0,i.jsx)(r.strong,{children:"SuperCarte.WPF"}),". \xc0 ce stade, il y a ",(0,i.jsx)(r.strong,{children:"plusieurs projets"})," et il est important de le modifier dans la liste."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"Install-Package WPFLocalizeExtension\n"})}),"\n",(0,i.jsx)(r.h2,{id:"cr\xe9ation-du-fichier-ressource---reslistecategories",children:"Cr\xe9ation du fichier ressource - ResListeCategories"}),"\n",(0,i.jsxs)(r.p,{children:["La librairie utilise les fichiers ",(0,i.jsx)(r.strong,{children:".resx"})," pour la localisation. C'est le format de fichier principal pour ",(0,i.jsx)(r.strong,{children:".NET"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["Cr\xe9ez le dossier ",(0,i.jsx)(r.strong,{children:"Resx"}),", dans le projet ",(0,i.jsx)(r.strong,{children:"SuperCarte.WPF"}),"."]}),"\n",(0,i.jsx)(r.p,{children:"Il existe plusieurs strat\xe9gies pour g\xe9rer les fichiers ressources. Pour ce projet, ce sera un fichier ressource par vue."}),"\n",(0,i.jsxs)(r.p,{children:["Cr\xe9ez le fichier ",(0,i.jsx)(r.strong,{children:"ResListeCategories.resx"})," avec le mod\xe8le ",(0,i.jsx)(r.strong,{children:"Fichier de ressources"})," dans le r\xe9pertoire ",(0,i.jsx)(r.strong,{children:"Resx"}),". Il est important que le nom du fichier ressource ne soit pas r\xe9utilis\xe9 pour d'autres ressources."]}),"\n",(0,i.jsx)(r.p,{children:"Ce fichier sera le fichier ressource principal. Si aucun fichier ressource n\u2019existe pour la culture du programme, ce sera celui-ci."}),"\n",(0,i.jsx)(r.p,{children:"Pour ce projet, ce sera le fichier en fran\xe7ais."}),"\n",(0,i.jsxs)(r.p,{children:["La colonne ",(0,i.jsx)(r.strong,{children:"Nom"})," consiste \xe0 la cl\xe9 de la ressource et la colonne ",(0,i.jsx)(r.strong,{children:"Valeur"})," consiste est le texte."]}),"\n",(0,i.jsxs)(r.p,{children:["Pour la vue ",(0,i.jsx)(r.strong,{children:"UcListeCategories"}),", il faut traduire le titre de la page, les ent\xeates des colonnes du ",(0,i.jsx)(r.strong,{children:"DataDrid"}),", le texte et les ",(0,i.jsx)(r.strong,{children:"Tooltip"})," des boutons."]}),"\n",(0,i.jsxs)(r.p,{children:["Les boutons seront par contre r\xe9utilis\xe9s par d'autres ",(0,i.jsx)(r.strong,{children:"Vues"})," . Il serait pr\xe9f\xe9rable de les sp\xe9cifier dans un fichier propre."]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Nom"}),(0,i.jsx)(r.th,{children:"Valeur"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Titre"}),(0,i.jsx)(r.td,{children:"Liste des cat\xe9gories"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Col_CategorieId"}),(0,i.jsx)(r.td,{children:"Id"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Col_Nom"}),(0,i.jsx)(r.td,{children:"Nom"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Col_Description"}),(0,i.jsx)(r.td,{children:"Description"})]})]})]}),"\n",(0,i.jsxs)(r.p,{children:["Cr\xe9ez le fichier ",(0,i.jsx)(r.strong,{children:"ResListeCategories.en.resx"}),". Ce fichier sera pour l'anglais. Ce sera autant pour ",(0,i.jsx)(r.strong,{children:"en-US"})," (Anglais \xc9tats-Unis) que pour ",(0,i.jsx)(r.strong,{children:"en-CA"})," (Anglais Canada). Il est important de mettre le code de la culture dans entre le nom du fichier et l'extension."]}),"\n",(0,i.jsxs)(r.p,{children:["Il faut que les \xe9l\xe9ments de la colonne ",(0,i.jsx)(r.strong,{children:"Nom"})," soient identiques dans tous les fichiers."]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Nom"}),(0,i.jsx)(r.th,{children:"Valeur"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Titre"}),(0,i.jsx)(r.td,{children:"Categories list"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Col_CategorieId"}),(0,i.jsx)(r.td,{children:"Id"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Col_Nom"}),(0,i.jsx)(r.td,{children:"Name"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Col_Description"}),(0,i.jsx)(r.td,{children:"Description"})]})]})]}),"\n",(0,i.jsxs)(r.p,{children:["S'il avait une version italienne, il faudrait que le fichier se nomme ",(0,i.jsx)(r.strong,{children:"ResListeCategories.it.resx"}),". S'il avait une version fran\xe7aise de France, il faudrait que le fichier se nomme ",(0,i.jsx)(r.strong,{children:"ResListeCategories.fr-Fr.resx"}),"."]}),"\n",(0,i.jsx)(r.admonition,{type:"tip",children:(0,i.jsxs)(r.p,{children:["Vous pouvez t\xe9l\xe9charger ce fichier zip et le d\xe9compresser dans le r\xe9pertoire Resx afin de vous sauver du temps.\r\n",(0,i.jsx)(r.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(7310).Z+"",children:"fichier ressources"})]})}),"\n",(0,i.jsx)(r.h2,{id:"cr\xe9ation-du-fichier-ressource---resgloballistebouton",children:"Cr\xe9ation du fichier ressource - ResGlobalListeBouton"}),"\n",(0,i.jsxs)(r.p,{children:["Ce fichier ressource contiendra l'information des boutons. Les boutons d'une liste seront toujours les m\xeames. Imaginez qu'il faut modifier le bouton ",(0,i.jsx)(r.strong,{children:"Rafraichissement"})," par ",(0,i.jsx)(r.strong,{children:"Chargement"}),". Si le logiciel \xe0 150 listes, il faut le modifier dans 150 fichiers."]}),"\n",(0,i.jsxs)(r.p,{children:["Cr\xe9ez le fichier ",(0,i.jsx)(r.strong,{children:"ResGlobalListeBouton.resx"})," avec le mod\xe8le ",(0,i.jsx)(r.strong,{children:"Fichier de ressources"}),". Il est important que le nom du fichier ressource ne soit pas r\xe9utilis\xe9 pour d'autres ressources."]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Nom"}),(0,i.jsx)(r.th,{children:"Valeur"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Nouveau_Content"}),(0,i.jsx)(r.td,{children:"N"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Editer_Content"}),(0,i.jsx)(r.td,{children:"\xc9"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Supprimer_Content"}),(0,i.jsx)(r.td,{children:"S"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Rafraichir_Content"}),(0,i.jsx)(r.td,{children:"R"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Nouveau_Tooltip"}),(0,i.jsx)(r.td,{children:"Nouveau"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Editer_Tooltip"}),(0,i.jsx)(r.td,{children:"\xc9diter"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Supprimer_Tooltip"}),(0,i.jsx)(r.td,{children:"Supprimer"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Rafraichir_Tooltip"}),(0,i.jsx)(r.td,{children:"Rafraichir"})]})]})]}),"\n",(0,i.jsxs)(r.p,{children:["Cr\xe9ez le fichier ",(0,i.jsx)(r.strong,{children:"ResGlobalListeBouton.en.resx"}),"."]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Nom"}),(0,i.jsx)(r.th,{children:"Valeur"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Nouveau_Content"}),(0,i.jsx)(r.td,{children:"N"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Editer_Content"}),(0,i.jsx)(r.td,{children:"E"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Supprimer_Content"}),(0,i.jsx)(r.td,{children:"D"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Rafraichir_Content"}),(0,i.jsx)(r.td,{children:"R"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Nouveau_Tooltip"}),(0,i.jsx)(r.td,{children:"New"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Editer_Tooltip"}),(0,i.jsx)(r.td,{children:"Edit"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Supprimer_Tooltip"}),(0,i.jsx)(r.td,{children:"Delete"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Bouton_Rafraichir_Tooltip"}),(0,i.jsx)(r.td,{children:"Refresh"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"utilisation-dans-la-vue---uclistecategoriesxaml",children:"Utilisation dans la vue - UcListeCategories.xaml"}),"\n",(0,i.jsxs)(r.p,{children:["Pour \xeatre en mesure de l'utiliser dans une ",(0,i.jsx)(r.strong,{children:"Vue"}),", il faut ajouter des d\xe9clarations dans la balise initiale ",(0,i.jsx)(r.strong,{children:"<UserControl>"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["La ligne 8 indique qu'il faut inclure le ",(0,i.jsx)(r.strong,{children:"namespace"})," de la librairie ",(0,i.jsx)(r.strong,{children:"WPFLocalizeExtension"}),"."]}),"\n",(0,i.jsx)(r.p,{children:"La ligne 9 indique qu'elle est la langue \xe0 utiliser pour l'aper\xe7u du design."}),"\n",(0,i.jsx)(r.p,{children:"La ligne 10 indique le projet dans lequel le fichier ressource se trouve."}),"\n",(0,i.jsxs)(r.p,{children:["La ligne 11 est le nom du fichier ressource par d\xe9faut de la ",(0,i.jsx)(r.strong,{children:"Vue"}),"."]}),"\n",(0,i.jsx)(r.p,{children:"Pour s\xe9lectionner un \xe9l\xe9ment du fichier ressource de la vue, il faut utiliser cette syntaxe. La cl\xe9 est le nom de la colonne."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"{lex:Loc Cl\xe9}\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Par exemple pour le titre de la ",(0,i.jsx)(r.strong,{children:"Vue"})," ligne 33, il faut prendre la valeur de l'\xe9l\xe9ment ",(0,i.jsx)(r.strong,{children:"Titre"})," du fichier ",(0,i.jsx)(r.strong,{children:"ResListeCategories"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["Pour s\xe9lectionner un \xe9l\xe9ment d'un autre fichier ressource, il faut utiliser cette syntaxe. Le fichier est le fichier ",(0,i.jsx)(r.strong,{children:".resx"}),". La cl\xe9 est le nom de la colonne."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"{lex:Loc Fichier:Cl\xe9}\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Par exemple pour le bouton ",(0,i.jsx)(r.strong,{children:"Nouveau"}),", \xe0 la ligne 39, il prend l'\xe9l\xe9ment  ",(0,i.jsx)(r.strong,{children:"Bouton_Nouveau_Content"})," du fichier ",(0,i.jsx)(r.strong,{children:"ResGlobalListeBouton"})," pour la propri\xe9t\xe9 ",(0,i.jsx)(r.strong,{children:"Content"}),"."]}),"\n",(0,i.jsx)(r.p,{children:"Tous les textes doivent \xeatre dans un fichier ressource, m\xeame si le texte est identique dans les 2 langues."}),"\n",(0,i.jsx)(r.p,{children:"Il devient difficile \xe0 faire \xe9voluer le programme si certains libell\xe9s ne sont pas dans le fichier ressource."}),"\n",(0,i.jsx)(r.p,{children:"\xc9galement, il est pr\xe9f\xe9rable de cr\xe9er un \xe9l\xe9ment par composant, m\xeame s'il y a une r\xe9p\xe9tition dans la valeur. Un mot dans un contexte n'aura pas n\xe9cessairement la m\xeame traduction dans un autre contexte."}),"\n",(0,i.jsx)(r.p,{children:"Voici le fichier au complet."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-xaml",metastring:"showLineNumbers",children:'<UserControl x:Class="SuperCarte.WPF.Views.UcListeCategories"\r\n             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"\r\n             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\r\n             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" \r\n             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" \r\n             xmlns:local="clr-namespace:SuperCarte.WPF.Views"\r\n             xmlns:vm="clr-namespace:SuperCarte.WPF.ViewModels"\r\n             xmlns:lex="http://wpflocalizeextension.codeplex.com"\r\n             lex:LocalizeDictionary.DesignCulture="fr"\r\n             lex:ResxLocalizationProvider.DefaultAssembly="SuperCarte.WPF"\r\n             lex:ResxLocalizationProvider.DefaultDictionary="ResListeCategories"             \r\n             d:DataContext="{d:DesignInstance vm:ListeCategoriesVM}"\r\n             mc:Ignorable="d" \r\n             d:DesignHeight="450" d:DesignWidth="800"\r\n             Loaded="UserControl_Loaded">\r\n    <Grid>\r\n        <Grid.RowDefinitions>\r\n            \x3c!--Rang\xe9e 0 --\x3e\r\n            <RowDefinition Height="auto" /> \r\n            \x3c!--Rang\xe9e 1 --\x3e\r\n            <RowDefinition Height="auto" />\r\n            \x3c!--Rang\xe9e 2 --\x3e\r\n            <RowDefinition Height="*" />\r\n            \x3c!--Rang\xe9e 3 --\x3e\r\n            <RowDefinition Height="20" />\r\n        </Grid.RowDefinitions>\r\n\r\n        \x3c!--Rang\xe9e 0--\x3e\r\n        <TextBlock \r\n            Grid.Row="0" \r\n            VerticalAlignment="Center" HorizontalAlignment="Center"\r\n            FontSize="16" FontWeight="Bold"\r\n            Text="{lex:Loc Titre}"/>\r\n\r\n        \x3c!--Rang\xe9e 1--\x3e\r\n        <WrapPanel Grid.Row="1" \r\n                    Orientation="Horizontal" VerticalAlignment="Center">\r\n\r\n            <Button Content="{lex:Loc ResGlobalListeBouton:Bouton_Nouveau_Content}" ToolTip="{lex:Loc ResGlobalListeBouton:Bouton_Nouveau_Tooltip}"\r\n                    Margin="5" Width="32" Height="32" />\r\n            <Button Content="{lex:Loc ResGlobalListeBouton:Bouton_Editer_Content}" ToolTip="{lex:Loc ResGlobalListeBouton:Bouton_Editer_Tooltip}"\r\n                    Margin="5" Width="32" Height="32" />\r\n            <Button Content="{lex:Loc ResGlobalListeBouton:Bouton_Supprimer_Content}" ToolTip="{lex:Loc ResGlobalListeBouton:Bouton_Supprimer_Tooltip}"\r\n                    Margin="5" Width="32" Height="32"\r\n                    Command="{Binding SupprimerCommande}"/>\r\n            <Button Content="{lex:Loc ResGlobalListeBouton:Bouton_Rafraichir_Content}" ToolTip="{lex:Loc ResGlobalListeBouton:Bouton_Rafraichir_Tooltip}"\r\n                    Margin="5" Width="32" Height="32"\r\n                    Command="{Binding ObtenirListeCommande}"/>\r\n        </WrapPanel>\r\n\r\n        \x3c!--Rang\xe9e 2--\x3e\r\n        <DataGrid Grid.Row="2" \r\n                  AutoGenerateColumns="False"\r\n                  SelectionMode="Single" IsReadOnly="True"\r\n                  ItemsSource="{Binding ListeCategories}"\r\n                  SelectedItem="{Binding CategorieSelection}">\r\n            <DataGrid.Columns>\r\n                <DataGridTextColumn Header="{lex:Loc Col_CategorieId}"\r\n                                    MinWidth="50"\r\n                                    Binding="{Binding CategorieId}"/>\r\n\r\n                <DataGridTextColumn Header="{lex:Loc Col_Nom}"\r\n                                    MinWidth="300"\r\n                                    Binding="{Binding Nom}"/>\r\n\r\n                <DataGridTextColumn Header="{lex:Loc Col_Description}" \r\n                                    MinWidth="300"\r\n                                    Width="*"\r\n                                    Binding="{Binding Description}"/>\r\n\r\n            </DataGrid.Columns>\r\n        </DataGrid>\r\n        \x3c!--Rang\xe9e 3--\x3e\r\n        <ProgressBar Grid.Row="3" Height="10" IsIndeterminate="{Binding EstEnTravail}" />\r\n\r\n    </Grid>\r\n</UserControl>\n'})}),"\n",(0,i.jsx)(r.admonition,{type:"tip",children:(0,i.jsx)(r.p,{children:"Maintenant que vous savez comment se fait la localisation, vous devriez y penser d\xe8s le d\xe9part et inscrire les cl\xe9s pour chaque mot au moment de la cr\xe9ation de la vue, et inscrire chacun de ces mots dans les fichiers .resx au fur et \xe0 mesure"})}),"\n",(0,i.jsx)(r.h2,{id:"test",children:"Test"}),"\n",(0,i.jsx)(r.p,{children:"Par d\xe9faut, la culture sera celle sp\xe9cifi\xe9e dans le syst\xe8me d'exploitation."}),"\n",(0,i.jsx)(r.p,{children:"Il est possible de la modifier \xe0 partir du code."}),"\n",(0,i.jsxs)(r.p,{children:["Dans le fichier ",(0,i.jsx)(r.strong,{children:"App.xaml.cs"}),", modifiez  le constructeur de la classe ",(0,i.jsx)(r.strong,{children:"App"}),"."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-csharp",children:'public App()\r\n{\r\n\t//highlight-start\r\n    //Modification de la langue dans l\'extension et du thread principale\r\n    //highlight-next-line\r\n    CultureInfo.DefaultThreadCurrentCulture = new CultureInfo("en-CA");\r\n    WPFLocalizeExtension.Engine.LocalizeDictionary.Instance.SetCurrentThreadCulture = true;\r\n    WPFLocalizeExtension.Engine.LocalizeDictionary.Instance.Culture = CultureInfo.DefaultThreadCurrentCulture;\r\n\t//highlight-end\r\n\r\n    var builder = Host.CreateDefaultBuilder();\r\n\r\n    //Enregistrement des services\r\n    builder.ConfigureServices((context, services) =>\r\n    {            \r\n        services.AddSingleton<MainWindow>(); //Fen\xeatre principale\r\n\r\n        //Enregistrement du contexte    \r\n        services.AddDbContext<SuperCarteContext>(options => options.UseSqlServer(context.Configuration.GetConnectionString("DefaultConnection")));\r\n\r\n        //Appel des m\xe9thodes d\'extension                        \r\n        services.EnregistrerRepositories();\r\n        services.EnregistrerServices();            \r\n        services.EnregistrerValidateurs();\r\n        services.EnregistrerViewModels();\r\n    });\r\n\r\n    _host = builder.Build();\r\n}\n'})}),"\n",(0,i.jsx)(r.p,{children:"D\xe9marrez l'application et la page sera en anglais."}),"\n",(0,i.jsxs)(r.p,{children:["Il est important de modifier la langue dans le ",(0,i.jsx)(r.strong,{children:"Thread principal"})," de l'application et non dans le ",(0,i.jsx)(r.strong,{children:"Thread d'affichage"}),", car l'application fonctionne en asynchrone. Une sous-t\xe2che cr\xe9e une copie de la culture du ",(0,i.jsx)(r.strong,{children:"Thread parent"}),". L'instance du ",(0,i.jsx)(r.strong,{children:"ViewModel"})," est cr\xe9\xe9e par le ",(0,i.jsx)(r.strong,{children:"ServiceProvider"}),", donc il provient du ",(0,i.jsx)(r.strong,{children:"Thread principal"}),". Ce n'est pas la ",(0,i.jsx)(r.strong,{children:"Vue"})," qui cr\xe9e la ",(0,i.jsx)(r.strong,{children:"VM"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["La ligne ",(0,i.jsx)(r.strong,{children:"CultureInfo.DefaultThreadCurrentCulture"})," permet d'indiquer la culture par d\xe9faut de l'application. En cas qu'il faille modifier la culture dans l'application en cours d'ex\xe9cution, il faudrait se baser sur cette valeur pour appliquer la culture sur le ",(0,i.jsx)(r.strong,{children:"Thread"})," en cours d'ex\xe9cution si c'est n\xe9cessaire."]}),"\n",(0,i.jsx)(r.p,{children:"Remettez l'application en fran\xe7ais par d\xe9faut."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-csharp",children:'public App()\r\n{\r\n    //Modification de la langue dans l\'extension et du thread principal\r\n    //highlight-next-line\r\n        CultureInfo.DefaultThreadCurrentCulture = new CultureInfo("fr-CA");\r\n        WPFLocalizeExtension.Engine.LocalizeDictionary.Instance.SetCurrentThreadCulture = true;\r\n        WPFLocalizeExtension.Engine.LocalizeDictionary.Instance.Culture = CultureInfo.DefaultThreadCurrentCulture;\r\n\r\n    var builder = Host.CreateDefaultBuilder();\r\n\r\n    //Enregistrement des services\r\n    builder.ConfigureServices((context, services) =>\r\n    {            \r\n        services.AddSingleton<MainWindow>(); //Fen\xeatre principale\r\n\r\n        //Enregistrement du contexte    \r\n        services.AddDbContext<SuperCarteContext>(options => options.UseSqlServer(context.Configuration.GetConnectionString("DefaultConnection")));\r\n\r\n        //Appel des m\xe9thodes d\'extension                        \r\n        services.EnregistrerRepositories();\r\n        services.EnregistrerServices();            \r\n        services.EnregistrerValidateurs();\r\n        services.EnregistrerViewModels();\r\n    });\r\n\r\n    _host = builder.Build();\r\n}\n'})})]})}function u(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},7310:(e,r,n)=>{n.d(r,{Z:()=>i});const i=n.p+"assets/files/fichiers_localisation-94041c5e303072686dfd602e09f1e0b6.zip"},1151:(e,r,n)=>{n.d(r,{Z:()=>o,a:()=>l});var i=n(7294);const s={},t=i.createContext(s);function l(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);