"use strict";(self.webpackChunknotes_de_cours_4_n_1_2024=self.webpackChunknotes_de_cours_4_n_1_2024||[]).push([[1177],{2932:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var s=r(5893),t=r(1151);const i={sidebar_position:1},o="WPF Introduction",a={id:"WPF/partie_1",title:"WPF Introduction",description:"Pour faire des applications natives Windows, .Net a 3 plateformes principales : WinForm , Universal Windows Platforme (UWP) et Windows Presentation Form (WPF).",source:"@site/docs/70-WPF/partie_1.md",sourceDirName:"70-WPF",slug:"/WPF/partie_1",permalink:"/4N1_2024/docs/WPF/partie_1",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"NotesSidebar",previous:{title:"Utilisation",permalink:"/4N1_2024/docs/Injection de d\xe9pendance/injection_dependance"},next:{title:"SuperCarte DEA",permalink:"/4N1_2024/docs/WPF/supercarte_DEA"}},l={},d=[{value:"Pr\xe9sentation de l&#39;application",id:"pr\xe9sentation-de-lapplication",level:2},{value:"Structure de l&#39;application",id:"structure-de-lapplication",level:2},{value:"Concepts pr\xe9sent\xe9s",id:"concepts-pr\xe9sent\xe9s",level:2}];function c(e){const n={a:"a",admonition:"admonition",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"wpf-introduction",children:"WPF Introduction"}),"\n",(0,s.jsxs)(n.p,{children:["Pour faire des applications natives Windows, ",(0,s.jsx)(n.strong,{children:".Net"})," a 3 plateformes principales : ",(0,s.jsx)(n.strong,{children:"WinForm"})," , ",(0,s.jsx)(n.strong,{children:"Universal Windows Platforme (UWP)"})," et ",(0,s.jsx)(n.strong,{children:"Windows Presentation Form (WPF)"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Malgr\xe9 que ",(0,s.jsx)(n.strong,{children:"WPF"})," existe depuis 2006, la plateforme utilise le langage ",(0,s.jsx)(n.strong,{children:"XAML"})," pour r\xe9aliser les interfaces graphiques."]}),"\n",(0,s.jsxs)(n.p,{children:["Un premier avantage de ",(0,s.jsx)(n.strong,{children:"XAML"})," par rapport \xe0 ",(0,s.jsx)(n.strong,{children:"WinForm"})," est que ",(0,s.jsx)(n.strong,{children:"XAML"})," permet d'\xeatre facilement ",(0,s.jsx)(n.a,{href:"https://fr.wikipedia.org/wiki/Site_web_r%C3%A9actif",children:(0,s.jsx)(n.strong,{children:"reactive"})})," (",(0,s.jsx)(n.em,{children:"responsive"})," en anglais)."]}),"\n",(0,s.jsxs)(n.p,{children:["Un deuxi\xe8me avantage est que les composants sont peuvent \xeatre li\xe9s (",(0,s.jsx)(n.em,{children:"bindables"}),") \xe0 des propri\xe9t\xe9s. Il est possible de s\xe9parer facilement les classes graphiques de la logique d'interaction.  Il est donc possible d'utiliser des patrons de conception comme ",(0,s.jsx)(n.strong,{children:"MVVM"})," facilement."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"XAML"})," est \xe9galement utilis\xe9 pour la cr\xe9ation des interfaces graphiques de ",(0,s.jsx)(n.strong,{children:"MAUI"}),", la nouvelle librairie ",(0,s.jsx)(n.strong,{children:"multiplateforme"})," de Microsoft."]}),"\n",(0,s.jsx)(n.h2,{id:"pr\xe9sentation-de-lapplication",children:"Pr\xe9sentation de l'application"}),"\n",(0,s.jsxs)(n.p,{children:["L'application permet de g\xe9rer les cartes de jeux du style ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://fr.wikipedia.org/wiki/Hearthstone",children:"Heartstone"})})," pour des joueurs. Il s'agit du jeu ",(0,s.jsx)(n.strong,{children:"Super Carte"}),". Tr\xe8s original comme nom."]}),"\n",(0,s.jsx)(n.p,{children:"Les cartes ont des caract\xe9ristiques propres pour d\xe9terminer leur pointage de vie, d\u2019armure et de force."}),"\n",(0,s.jsx)(n.p,{children:"Chaque joueur poss\xe8de des cartes qui lui permettront de jouer des parties. Les joueurs peuvent visualiser leurs propres cartes et \xe9galement toutes les cartes du syst\xe8me."}),"\n",(0,s.jsx)(n.p,{children:"Les administrateurs de l'application sont en mesure de cr\xe9er de nouvelles cartes. Les cartes appartiennent \xe0 un ensemble de cartes. P\xe9riodiquement, les administrateurs cr\xe9ent un nouvel ensemble de cartes."}),"\n",(0,s.jsx)(n.h2,{id:"structure-de-lapplication",children:"Structure de l'application"}),"\n",(0,s.jsxs)(n.p,{children:["L'application ",(0,s.jsx)(n.strong,{children:"SuperCarteApp"})," qui sera cr\xe9\xe9e aura 3 projets."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"SuperCarte.WPF"})}),"\n",(0,s.jsxs)(n.p,{children:["Ce projet consiste \xe0 l'interface visuelle ",(0,s.jsx)(n.strong,{children:"UI"})," de l'application. Il contient \xe9galement la structure ",(0,s.jsx)(n.strong,{children:"MVVM"})," pour g\xe9rer les interactions avec l'interface graphique."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"SuperCarte.Core"})}),"\n",(0,s.jsxs)(n.p,{children:["Ce projet consiste \xe0 la logique de l'application. Il contient les classes de type ",(0,s.jsx)(n.strong,{children:"Service"}),", de type ",(0,s.jsx)(n.strong,{children:"Repository"}),", de type ",(0,s.jsx)(n.strong,{children:"Validateur"})," et les classes du mod\xe8le du domaine."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"SuperCarte.EF"})}),"\n",(0,s.jsxs)(n.p,{children:["Ce projet consiste \xe0 la communication avec la base de donn\xe9es. Il contient le ",(0,s.jsx)(n.strong,{children:"contexte"})," et les classes du mod\xe8le de donn\xe9es."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"concepts-pr\xe9sent\xe9s",children:"Concepts pr\xe9sent\xe9s"}),"\n",(0,s.jsxs)(n.p,{children:["Dans ce document, vous allez cr\xe9er une base de donn\xe9es en ",(0,s.jsx)(n.strong,{children:"Code First"})," \xe0 partir du ",(0,s.jsx)(n.strong,{children:"contexte"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Ensuite, vous allez cr\xe9er un ",(0,s.jsx)(n.strong,{children:"Repository"})," g\xe9n\xe9rique pour optimiser la r\xe9utilisation de code."]}),"\n",(0,s.jsxs)(n.p,{children:["Finalement, vous allez cr\xe9er la base du projet ",(0,s.jsx)(n.strong,{children:"WPF"})," pour int\xe9grer le fichier de configuration et l'injection de d\xe9pendances."]}),"\n",(0,s.jsx)(n.h1,{id:"approche-code-first-du-contexte",children:"Approche Code First du Contexte"}),"\n",(0,s.jsxs)(n.p,{children:["Pour ce projet, l'approche ",(0,s.jsx)(n.strong,{children:"Code First"})," sera utilis\xe9e pour cr\xe9er le contexte."]}),"\n",(0,s.jsxs)(n.p,{children:["L'avantage du ",(0,s.jsx)(n.strong,{children:"Code First"})," est que la base de donn\xe9es se met \xe0 jour par ",(0,s.jsx)(n.strong,{children:"migration"}),". La ",(0,s.jsx)(n.strong,{children:"migration"})," consiste \xe0 g\xe9n\xe9rer des fichiers de cr\xe9ation et de mise \xe0 jour de la base de donn\xe9es \xe0 partir du code de programmation. Dans ce projet, ce sera du ",(0,s.jsx)(n.strong,{children:"C#"}),". Ce code est facilement int\xe9grable \xe0 ",(0,s.jsx)(n.strong,{children:"Git"})," et se partage facilement entre les membres de l'\xe9quipe. Un fichier de ",(0,s.jsx)(n.strong,{children:"migration"})," contient le code pour appliquer les modifications et le code pour les annuler. Il est donc facile de faire des retours en arri\xe8re et de se mettre rapidement \xe0 une version sp\xe9cifique de la base de donn\xe9es. Il suffit d'ex\xe9cuter la derni\xe8re version des fichiers de migration pour avoir la base de donn\xe9es \xe0 jour. Il est \xe9galement possible de revenir \xe0 une ancienne version facilement en ex\xe9cutant le fichier de migration correspondant."]}),"\n",(0,s.jsx)(n.p,{children:"Un autre avantage est qu'il est possible de cr\xe9er le contexte selon des standards internes. Par exemple, la pluralisation ne fonctionne pas bien en fran\xe7ais. Il est donc possible de mettre un pr\xe9fixe ou un suffixe \xe0 des \xe9l\xe9ments pour diff\xe9rencier une r\xe9f\xe9rence unitaire ou une collection."}),"\n",(0,s.jsx)(n.admonition,{title:"Attention",type:"danger",children:(0,s.jsxs)(n.p,{children:["Il est important que ",(0,s.jsx)(n.strong,{children:"la base de donn\xe9es n'existe pas"})," dans votre ",(0,s.jsx)(n.strong,{children:"SQL Server"})," lors de l'ex\xe9cution de la premi\xe8re migration."]})}),"\n",(0,s.jsxs)(n.p,{children:["Le site ",(0,s.jsx)(n.strong,{children:"Entity Framework Tutorial"})," (anglais seulement) explique plusieurs \xe9l\xe9ments du fonctionnement du contexte. C'est un tr\xe8s bon tutoriel. ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://www.entityframeworktutorial.net/efcore/entity-framework-core.aspx",children:"https://www.entityframeworktutorial.net/efcore/entity-framework-core.aspx"})})]}),"\n",(0,s.jsxs)(n.p,{children:["Voici le site officiel de Microsoft pour la migration de ",(0,s.jsx)(n.strong,{children:"Entity Framework Core"}),". ",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/fr-ca/ef/core/managing-schemas/migrations/?tabs=vs",children:"https://learn.microsoft.com/fr-ca/ef/core/managing-schemas/migrations/?tabs=vs"})})]}),"\n",(0,s.jsxs)(n.p,{children:["L'approche utilis\xe9e dans ce document pour g\xe9rer la migration est d'utiliser directement la librairie de classe. La migration sera ind\xe9pendante du projet ",(0,s.jsx)(n.strong,{children:"ex\xe9cutable"})," (WPF, WinForm, Console, ASP.NET MVC, Blazor...). Cette approche doit ajouter des configurations dans le contexte, mais permet d'\xeatre ind\xe9pendant de l'ex\xe9cutable. Il est possible pour un programmeur de g\xe9rer la base de donn\xe9es sans avoir acc\xe8s \xe0 la solution compl\xe8te. L'approche pr\xe9sent\xe9e dans ce document n\xe9cessite de sp\xe9cifier ",(0,s.jsx)(n.strong,{children:"une chaine de connexion en m\xe9moire"}),", mais elle ne n\xe9cessite pas un projet de d\xe9marrage."]}),"\n",(0,s.jsxs)(n.p,{children:["Il est possible de g\xe9rer la migration \xe0 partir du projet ",(0,s.jsx)(n.strong,{children:"ex\xe9cutable"}),". L'avantage d'avoir un projet ex\xe9cutable lors de la mise en place de la migration est qu'il est possible d'utiliser le fichier de configuration du projet pour se synchroniser avec la base de donn\xe9es. ",(0,s.jsx)(n.strong,{children:"Par contre"}),", la mise en place d'un projet d\xe9marrable peut demander du temps. Si le projet d\xe9marrable est mal configur\xe9, la migration ne fonctionnera pas. Il est possible que la solution poss\xe8de plusieurs projets de d\xe9marrage (WPF et API). Il faut donc que chacun des projets soit en mesure de g\xe9rer la migration."]})]})}function p(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>a,a:()=>o});var s=r(7294);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);