<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Tests Unitaires/introduction" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Introduction | Notes de cours 4N1 2024</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/4N1_2024/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/4N1_2024/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/4N1_2024/docs/Tests Unitaires/introduction"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction | Notes de cours 4N1 2024"><meta data-rh="true" name="description" content="Pour s&#x27;assurer de la qualité du logiciel, il faut effectuer des tests."><meta data-rh="true" property="og:description" content="Pour s&#x27;assurer de la qualité du logiciel, il faut effectuer des tests."><link data-rh="true" rel="icon" href="/4N1_2024/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/4N1_2024/docs/Tests Unitaires/introduction"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/4N1_2024/docs/Tests Unitaires/introduction" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/4N1_2024/docs/Tests Unitaires/introduction" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/4N1_2024/blog/rss.xml" title="Notes de cours 4N1 2024 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/4N1_2024/blog/atom.xml" title="Notes de cours 4N1 2024 Atom Feed"><link rel="stylesheet" href="/4N1_2024/assets/css/styles.6bcea008.css">
<script src="/4N1_2024/assets/js/runtime~main.c90d4f5f.js" defer="defer"></script>
<script src="/4N1_2024/assets/js/main.34215bd7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/4N1_2024/"><div class="navbar__logo"><img src="/4N1_2024/img/logo420.svg" alt="Cégep de Drummondville" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/4N1_2024/img/logo420.svg" alt="Cégep de Drummondville" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">4n1 Native III</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/4N1_2024/docs/TP3/tp3_description">Notes de cours</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/TP3/tp3_description">TP3</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/Preparation/preparation_environnement">Preparation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/Intro Csharp/Introduction_CSharp">Intro Csharp</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/Révision SQL/introduction_SQL_Server">Révision SQL</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/LINQ/app_sans_main">LINQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/Entity Framework/solid">Entity Framework</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/Entity Framework 2/EF_navigation">Entity Framework 2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/Génération de données de test/Bogus_intro">Génération de données de test</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/WPF partie 1/wpf_introduction">WPF partie 1</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/WPF partie 2/intro_xaml">WPF partie 2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/WPF partie 3/wpf_partie3_source">WPF partie 3</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/WPF partie 4/introduction">WPF partie 4</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/4N1_2024/docs/Tests Unitaires/tests_unitaire_integration_source">Tests Unitaires</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4N1_2024/docs/Tests Unitaires/tests_unitaire_integration_source">Code pour la section tests unitaires et tests d&#x27;intégration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4N1_2024/docs/Tests Unitaires/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4N1_2024/docs/Tests Unitaires/structure_test">Structure d&#x27;un test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/4N1_2024/docs/Tests Unitaires/test_unitaire">Tests unitaires</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/Tests intégration/introduction">Tests intégration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4N1_2024/docs/Enseignant/a_planning">Enseignant</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/4N1_2024/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tests Unitaires</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Introduction</h1>
<p>Pour s&#x27;assurer de la qualité du logiciel, il faut effectuer des tests.</p>
<p>Il existe plusieurs catégories de tests.</p>
<p>Les tests unitaires servent à vérifier une méthode précise d&#x27;une classe et de s&#x27;assurer que le résultat ou le comportement attendu est valide.</p>
<p>Les tests d&#x27;intégration servent à vérifier l&#x27;interaction entre plusieurs modules et fonctions et de s&#x27;assurer que le résultat final est valide.</p>
<p>Les tests bout en bout (end to end : e2e) servent à vérifier que le logiciel fonctionne de l&#x27;interface utilisateur à la base de données ou aux autres systèmes.</p>
<p>Les tests d&#x27;acceptation servent à vérifier que le logiciel répond aux spécifications logicielles énoncées par le client.</p>
<p>Voici un bon article de <strong>Microsoft</strong> pour les bonnes pratiques des tests : <a href="https://learn.microsoft.com/fr-ca/dotnet/core/testing/unit-testing-best-practices" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/fr-ca/dotnet/core/testing/unit-testing-best-practices</a></p>
<p>Ce document est une référence théorique. La librairie présentée n&#x27;est pas celle utilisée.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="librairies-de-test">Librairies de test<a href="#librairies-de-test" class="hash-link" aria-label="Direct link to Librairies de test" title="Direct link to Librairies de test">​</a></h2>
<p>L&#x27;utilisation d&#x27;outils de test n&#x27;est pas obligatoire, mais fortement conseillée.</p>
<p>Il est possible de faire des tests manuellement. Par contre, il faut faire les tests en suivant un guide précis et un humain doit faire les actions à chaque fois. Cette approche est très couteuse et le risque d&#x27;erreur est très élevé, car il est possible que le test #1 ne soit pas fait de la même façon à chaque fois.</p>
<p>L&#x27;avantage d&#x27;automatiser les tests avec une librairie est qu&#x27;ils sont facilement exécutables et permet de tester le logiciel sur demande.</p>
<p>Avant chaque déploiement, l&#x27;ensemble des tests sont exécutés. Il est possible de vérifier si le code a été altéré et que le comportement attendu n&#x27;est plus le même.</p>
<p>Le gros problème avec les tests automatisés est que le programmeur a tendance à faire de faux positifs. Le test programmé ne teste rien et est l&#x27;équivalent de s&#x27;assurer que <strong>true == true</strong>. Il faut s&#x27;assurer que le test a une valeur réelle.</p>
<p>Il existe 3 librairies populaires pour faire les tests dans un environnement <strong>.Net</strong>.</p>
<ul>
<li><strong>MSTest</strong></li>
<li><strong>NUnit</strong></li>
<li><strong>xUnit</strong></li>
</ul>
<p>Dans le cours de <strong>Native III</strong>, ce sera l&#x27;outil <strong>xUnit</strong> qui sera utilisé. Il est déjà intégré à Visual Studio.</p>
<p>Pour plus d&#x27;information sur <strong>xUnit</strong> : <a href="https://xunit.net/" target="_blank" rel="noopener noreferrer">https://xunit.net/</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="plan-de-test">Plan de test<a href="#plan-de-test" class="hash-link" aria-label="Direct link to Plan de test" title="Direct link to Plan de test">​</a></h2>
<p>Avant de débuter la conception des tests, il faut faire l&#x27;inventaire de ce qu&#x27;il faut tester.</p>
<p>Beaucoup d&#x27;éléments de la liste proviendront de l&#x27;analyse, car pour les tests d&#x27;intégration et e2e, c&#x27;est généralement des cas d&#x27;utilisation.</p>
<p>À cette étape, il ne faut pas penser comment le test sera effectué, mais de penser ce qu&#x27;il faut tester.</p>
<p>Il est important de prioriser les tests, car malheureusement, il arrive souvent que les tests ne soient pas l&#x27;élément le plus important dans un projet et que l&#x27;enveloppe budgétaire de celle-ci soit limitée.</p>
<p>Prenez par exemple un magasin en ligne.</p>
<p>Le logiciel permet de créer des catégories de produit, des produits, un inventaire sur les produits, d&#x27;ajouter des produits dans le panier d&#x27;achats et de faire un achat.</p>
<p>Si le budget est limité, le module d&#x27;inventaire, le panier d&#x27;achats et faire l&#x27;achat seront prioritaire, car ces fonctionnalités font partie du coeur du système.</p>
<p>Par la suite, pour chacun des items du plan, il faut déterminer comment il sera testé.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classe-à-tester">Classe à tester<a href="#classe-à-tester" class="hash-link" aria-label="Direct link to Classe à tester" title="Direct link to Classe à tester">​</a></h2>
<p>Il ne faut pas tester les librairies externes, car c&#x27;est la responsabilité du propriétaire de la librairie d&#x27;effectuer les tests.</p>
<p>Il n&#x27;est pas nécessaire de tester le <strong>contexte</strong> de <strong>EntityFramework</strong>, car <strong>Microsoft</strong> s&#x27;en occupe. Également, <strong>FluentValidation</strong> n&#x27;est pas à tester.</p>
<p>Par contre, il faut tester les classes qui les utilisent.</p>
<p>Dans cette application, il faudrait tester du <strong>Repository</strong> au <strong>ViewModel</strong>. Il ne faut pas oublier les extensions pour le <strong>mappage</strong> et les validateurs du modèle du domaine.</p>
<p>Il n&#x27;y a rien à tester dans le modèle du domaine et de données, car ce sont des classes qui contiennent uniquement des propriétés. Il n&#x27;y a aucune logique. S&#x27;il y avait des méthodes d&#x27;assignation, il faudrait les tester pour s&#x27;assurer que l&#x27;assignation se fait adéquatement.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-unitaire-test-dintégration-et-test-bout-en-bout-e2e">Test unitaire, Test d&#x27;intégration et Test bout en bout (e2e)<a href="#test-unitaire-test-dintégration-et-test-bout-en-bout-e2e" class="hash-link" aria-label="Direct link to Test unitaire, Test d&#x27;intégration et Test bout en bout (e2e)" title="Direct link to Test unitaire, Test d&#x27;intégration et Test bout en bout (e2e)">​</a></h2>
<p>Un test unitaire consiste à tester un élément isolé d&#x27;une classe. Toutes les dépendances de la classe doivent être simulées pour s&#x27;assurer du comportement du test. Si la dépendance n&#x27;est pas simulée, il est possible qu&#x27;elle soit problématique. Donc le test pourrait être un faux positif ou un faux négatif.</p>
<p>Par exemple, il faut tester l&#x27;ajout d&#x27;un item dans un service. Le service doit valider l&#x27;objet avant de l&#x27;ajouter. L&#x27;objet de test créé par le testeur est considéré valide. Donc il n&#x27;est pas nécessaire de le valider, car il faut tester la séquence de l&#x27;ajout. Est-ce que la validation a eu lieu.  Dans le cas qu&#x27;il est valide, il doit appeler le <strong>Repository</strong>. Dans le cas qu&#x27;il n&#x27;est pas valide, il ne doit pas l&#x27;appeler. Donc si le vrai validateur est utilisé, il est possible qu&#x27;il y ait un bug. Ce sera le test unitaire du validateur qui déterminera si la validation fonctionne adéquatement. Pour le test unitaire du service, il faut tester le cas objet valide et objet non valide. Le simulacre du validateur sera configuré pour indiquer que l&#x27;objet est valide ou non selon le test.</p>
<p>Pour un test d&#x27;intégration, il faut que les classes communiquent réellement entre elles pour s&#x27;assurer que la séquence fonctionne correctement. Il est possible d&#x27;utiliser des simulacres pour certains composants qui sont liés à l&#x27;interface visuelle. Un test d&#x27;intégration complet débute de la couche présentation à la base de données. Dans le cas d&#x27;une application <strong>WPF</strong>, la couche de présentation est le <strong>ViewModel</strong>. Le test doit communiquer avec une base de données. Il est important d&#x27;avoir un contrôle sur les données de la base de données, car il faut s&#x27;assurer du résultat du test. Les tests d&#x27;intégration sont généralement liés au cas d&#x27;utilisation. En effectuant une action, est-ce que tous les résultats attendus sont valides. Ces tests peuvent être très complexes à programmer et à valider. Il est important de faire les tests les plus granulaires possibles.</p>
<p>Un test bout en bout ou <strong>e2e</strong> est un test qui permet de simuler les interactions d&#x27;un utilisateur et de vérifier le comportement. Dans la mesure du possible, il est préférable de tester à partir de l&#x27;interface visuelle. Selon la technologie utilisée, il peut être plus ou moins facile de faire ces tests.</p>
<p>Il arrive parfois que le test d&#x27;intégration effectue un peu de <strong>e2e</strong> en même temps. Avec le <strong>ViewModel</strong>, il est possible de simuler des actions de l&#x27;utilisateur sans avoir besoin de l&#x27;interface visuelle. Un test d&#x27;intégration <strong>pur</strong> fait l&#x27;action le plus directement possible et valide uniquement le résultat dans la base de données. Les exemples des tests d&#x27;intégration de ce projet adoptent un peu de <strong>e2e</strong>, car il y aura des assertions sur le comportement des propriétés de liaison.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="validité-dun-test">Validité d&#x27;un test<a href="#validité-dun-test" class="hash-link" aria-label="Direct link to Validité d&#x27;un test" title="Direct link to Validité d&#x27;un test">​</a></h2>
<p>Pour s&#x27;assurer que la vérification du résultat du test fonctionne, il doit détecter une erreur dans le résultat ou dans le comportement. Donc en principe, si on introduit volontairement un <strong>bug</strong> dans une méthode, au moins un des tests de cette méthode doit le détecter. Si aucun test ne le détecte, il est possible que l&#x27;affirmation ne soit pas adéquate ou qu&#x27;il manque un cas de test.</p>
<p>Dès qu&#x27;une méthode est modifiée, il faut s&#x27;assurer que la couverture de test est toujours adéquate.</p>
<p>Dans le cas d&#x27;un test comportemental, il est possible qu&#x27;un test soit en erreur après une modification, mais que la méthode soit correcte. Ceci indique au testeur qu&#x27;il y a eu une modification dans la méthode. Est-ce que le nouveau comportement est valide ou c&#x27;est une erreur du programmeur ? Il faut analyser le code et déterminer s&#x27;il faut mettre le test à jour ou non.</p>
<p>Par exemple, il faut envoyer un courriel au directeur à chaque fois qu&#x27;un étudiant échoue un cours. Il faut un test qui vérifie que l&#x27;envoi de courriel est bien exécuté dans le service. Le directeur considère qu&#x27;il a trop de courriel, il ne souhaite plus recevoir ce courriel. Le service est modifié pour retirer la méthode d&#x27;envoi de courriel. Le test va détecter que l&#x27;envoi de courriel n&#x27;est pas appelé, il sera donc en erreur. Mais il s&#x27;agit d&#x27;un nouveau comportement. Le test doit être mis à jour pour tenir compte de la nouvelle réalité. À l&#x27;inverse, l&#x27;équipe de développement a mis en commentaire cette ligne de code pour faire des tests du logiciel, car il ne souhaite pas envoyer un courriel dans les tests d&#x27;exécution. Mais cette ligne a été oubliée et elle est toujours en commentaire. Le test va le détecter.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="caractéristiques-dun-bon-test">Caractéristiques d’un bon test<a href="#caractéristiques-dun-bon-test" class="hash-link" aria-label="Direct link to Caractéristiques d’un bon test" title="Direct link to Caractéristiques d’un bon test">​</a></h3>
<p>Voici ce que Microsoft recommande pour les tests.</p>
<ul>
<li><strong>Rapide</strong> : il n’est pas rare que les projets matures aient des milliers de tests unitaires. L’exécution des tests unitaires doit prendre peu de temps. Millisecondes.</li>
<li><strong>Isolé</strong> : les tests unitaires sont autonomes, peuvent être exécutés isolément et n’ont aucune dépendance vis-à-vis de facteurs externes tels qu’un système de fichiers ou une base de données.</li>
<li><strong>Reproductible</strong> : l’exécution d’un test unitaire doit être cohérente avec ses résultats, c’est-à-dire qu’elle retourne toujours le même résultat si vous ne modifiez rien entre les exécutions.</li>
<li><strong>Auto-vérification</strong> : le test doit être en mesure de détecter automatiquement s’il a réussi ou échoué sans aucune interaction humaine.</li>
<li><strong>Temps opportun</strong> : l’écriture d’un test unitaire ne doit pas prendre beaucoup de temps par rapport au code testé. Si vous trouvez que le test du code prend beaucoup de temps par rapport à son écriture, optez pour une conception plus facile à tester.</li>
</ul>
<blockquote>
<p>Source : <a href="https://learn.microsoft.com/fr-ca/dotnet/core/testing/unit-testing-best-practices#characteristics-of-a-good-unit-test" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/fr-ca/dotnet/core/testing/unit-testing-best-practices#characteristics-of-a-good-unit-test</a></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="explorateur-de-tests-dans-visual-studio">Explorateur de tests dans Visual Studio<a href="#explorateur-de-tests-dans-visual-studio" class="hash-link" aria-label="Direct link to Explorateur de tests dans Visual Studio" title="Direct link to Explorateur de tests dans Visual Studio">​</a></h2>
<p>Pour avoir accès à la fenêtre <strong>Explorateur de tests</strong> dans Visual Studio, il fait aller dans le menu <strong>Affichage -&gt; Explorateur de tests</strong> ou <strong>CRTL+T,E</strong>.</p>
<p>Cette fenêtre permet de contrôler les tests.</p>
<p>Il est possible d&#x27;exécuter tous les tests, ou un à la fois.</p>
<p>Il est possible d&#x27;exécuter un test en mode <strong>debug</strong> pour être en mesure de visualiser les points d&#x27;arrêt et d&#x27;analyser le test.</p>
<p>Chaque test indique un résultat. S&#x27;il est en <strong>rouge</strong>, il est possible de voir l&#x27;assertion invalide ou l&#x27;exception générée dans le <strong>Récapitulatif</strong> du test.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/4N1_2024/docs/Tests Unitaires/tests_unitaire_integration_source"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Code pour la section tests unitaires et tests d&#x27;intégration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4N1_2024/docs/Tests Unitaires/structure_test"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Structure d&#x27;un test</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#librairies-de-test" class="table-of-contents__link toc-highlight">Librairies de test</a></li><li><a href="#plan-de-test" class="table-of-contents__link toc-highlight">Plan de test</a></li><li><a href="#classe-à-tester" class="table-of-contents__link toc-highlight">Classe à tester</a></li><li><a href="#test-unitaire-test-dintégration-et-test-bout-en-bout-e2e" class="table-of-contents__link toc-highlight">Test unitaire, Test d&#39;intégration et Test bout en bout (e2e)</a></li><li><a href="#validité-dun-test" class="table-of-contents__link toc-highlight">Validité d&#39;un test</a><ul><li><a href="#caractéristiques-dun-bon-test" class="table-of-contents__link toc-highlight">Caractéristiques d’un bon test</a></li></ul></li><li><a href="#explorateur-de-tests-dans-visual-studio" class="table-of-contents__link toc-highlight">Explorateur de tests dans Visual Studio</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>